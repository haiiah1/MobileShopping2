<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:composite="http://java.sun.com/jsf/composite"
      xmlns:p="http://primefaces.org/ui"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

    <composite:interface>
        <composite:attribute name="product" />
    </composite:interface>

    <composite:implementation>
        <h:panelGrid id="front" columns="1" style="border: 1px #E7E7E7 solid;">
            <p:panelGrid columns="1" style="width:175px; margin:5px 0px; 
                         height: 220px;" 
                         styleClass="ui-panelgrid-blank">
                <p:commandLink action="#{productController.findProduct(cc.attrs.product.productID)}">
                    <p:graphicImage id="img" value="#{cc.attrs.product
                                                      .mainImageURL}"
                                    height="150" width="125" style="padding:5px 10px !important;"                                 
                                    >                               
                    </p:graphicImage>                                    
                </p:commandLink>
                <h:panelGrid>
                    <p:commandLink 
                        value="#{cc.attrs.product.name}"                         
                        target="_blank" 
                        style="text-decoration: none; width: 200px;"/>

                    <h:outputText value="#{cc.attrs.product.unitPrice}" 
                                  style="color: red;">
                        <f:convertNumber minFractionDigits="0"/>
                    </h:outputText>
                    <p:commandButton icon="fa fa-shopping-cart" value="Add to cart" 
                                     action="#{cartController.addtoCart(cc.attrs.product)}"
                                     style="height: 40px; width: 100px; background: #0081C2;
                                     color: #FFF; text-shadow: none;
                                     margin-left: 18px;">
                        <f:attribute name="productName" value="#{cc.attrs.product.name}" />
                    </p:commandButton>
                </h:panelGrid>

                <p:overlayPanel 
                    for="img" showEffect="blind" hideEffect="slide" 
                    showEvent="mouseover"
                    hideEvent="mouseout"  
                    dynamic="true" >
                    
                    <h:panelGrid columns="1" style="width: 240px;">
                        <h:outputText 
                            value="Screen:#{cc.attrs.product.detailDetailID.screen}" />
                        <h:outputText 
                            value="RAM:#{cc.attrs.product.detailDetailID.ram}"/>
                        <h:outputText 
                            value="Camera:#{cc.attrs.product.detailDetailID.camera}"/>
                        <h:outputText 
                            value="CPU:#{cc.attrs.product.detailDetailID.cpu}"/>
                        <h:outputText 
                            value="Connection:#{cc.attrs.product.detailDetailID.connection}"/>
                    </h:panelGrid>
                </p:overlayPanel>
            </p:panelGrid>
        </h:panelGrid>
    </composite:implementation>
</html>

